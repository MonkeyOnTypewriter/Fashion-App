from PIL import Image, ImageOps
import os

folder_path = 'jpgs'

def resize_jpg(input_file_path, output_file_path):
    
    image = Image.open(input_file_path)
    width, height = image.size
    size = max(width, height)
    square_image = ImageOps.pad(image, (size,size))
    final_image = square_image.resize((640, 640))
    final_image.save(output_file_path)


os.makedirs('jpgs_resized', exist_ok=True)


for i, file_name in enumerate(os.listdir(folder_path)):
    input_file_path = os.path.join(folder_path, file_name)
    output_file_path = f"jpgs_resized/{i}.jpg"
    try:
        resize_jpg(input_file_path, output_file_path) # Update with the desired path for the output JPG file
    except Exception as e:
        print(f'img {i}')
        print(e)
